<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–∞</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>üçΩÔ∏è –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–∞</h1>
      <p class="subtitle">–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞</p>
    </header>

    <main class="calculator-container">
      <div class="calculator">
        <div class="form-section">
          <div class="form-group">
            <label for="quantity" class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π:</label>
            <input type="number" id="quantity" min="1" value="1" class="form-input">
          </div>

          <div class="form-group">
            <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –±–ª—é–¥–æ:</label>
            <div class="radio-group">
              <div class="radio-option">
                <input type="radio" id="type1" name="dishType" value="pelmeni" checked>
                <label for="type1" class="radio-label">
                  <span class="dish-name">–ü–µ–ª—å–º–µ–Ω–∏</span>
                  <span class="dish-price">200 ‚ÇΩ/–ø–æ—Ä—Ü–∏—è</span>
                </label>
              </div>
              <div class="radio-option">
                <input type="radio" id="type2" name="dishType" value="macaroni">
                <label for="type2" class="radio-label">
                  <span class="dish-name">–ú–∞–∫–∞—Ä–æ–Ω—ã</span>
                  <span class="dish-price">–æ—Ç 325 ‚ÇΩ/–ø–æ—Ä—Ü–∏—è</span>
                </label>
              </div>
              <div class="radio-option">
                <input type="radio" id="type3" name="dishType" value="puree">
                <label for="type3" class="radio-label">
                  <span class="dish-name">–ü—é—Ä–µ</span>
                  <span class="dish-price">–æ—Ç 250 ‚ÇΩ/–ø–æ—Ä—Ü–∏—è</span>
                </label>
              </div>
            </div>
          </div>

          <div class="form-group" id="options-group" style="display: none;">
            <label for="options" class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –º–∞–∫–∞—Ä–æ–Ω–∞–º:</label>
            <select id="options" class="form-select">
              <option value="meat">–° –º—è—Å–æ–º (+50 ‚ÇΩ)</option>
              <option value="cutlet">–° –∫–æ—Ç–ª–µ—Ç–∫–æ–π (+25 ‚ÇΩ)</option>
            </select>
          </div>

          <div class="form-group" id="property-group" style="display: none;">
            <div class="checkbox-option">
              <input type="checkbox" id="property">
              <label for="property" class="checkbox-label">
                <span class="custom-checkbox"></span>
                –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∏–±—ã (+100 ‚ÇΩ)
              </label>
            </div>
          </div>
        </div>

        <div class="price-section">
          <div class="price-display" id="price-result">
            <div class="price-label">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</div>
            <div class="price-amount">200 ‚ÇΩ</div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –±–ª—é–¥–∞
    const basePrices = {
      pelmeni: 200,
      macaroni: 300,
      puree: 250
    };

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –¥–ª—è –æ–ø—Ü–∏–π
    const optionPrices = {
      meat: 50,
      cutlet: 25
    };

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è —Å–≤–æ–π—Å—Ç–≤–∞
    const propertyPrice = 100;

    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã DOM
    const quantityInput = document.getElementById('quantity');
    const dishTypeRadios = document.querySelectorAll('input[name="dishType"]');
    const optionsGroup = document.getElementById('options-group');
    const optionsSelect = document.getElementById('options');
    const propertyGroup = document.getElementById('property-group');
    const propertyCheckbox = document.getElementById('property');
    const priceResult = document.getElementById('price-result');
    const priceAmount = priceResult.querySelector('.price-amount');

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
    function calculatePrice() {
      // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∏–ø –±–ª—é–¥–∞
      let selectedType;
      for (const radio of dishTypeRadios) {
        if (radio.checked) {
          selectedType = radio.value;
          break;
        }
      }

      // –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
      const quantity = parseInt(quantityInput.value) || 1;

      // –ù–∞—á–∏–Ω–∞–µ–º —Å –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω—ã
      let price = basePrices[selectedType];

      // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–ø—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ –≤—ã–±—Ä–∞–Ω–∞
      if (selectedType === 'macaroni' && optionsGroup.style.display !== 'none') {
        const selectedOption = optionsSelect.value;
        price += optionPrices[selectedOption];
      }

      // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞, –µ—Å–ª–∏ –æ–Ω–æ –≤—ã–±—Ä–∞–Ω–æ
      if (selectedType === 'puree' && propertyGroup.style.display !== 'none' && propertyCheckbox.checked) {
        price += propertyPrice;
      }

      // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
      const totalPrice = price * quantity;

      // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã
      priceAmount.textContent = `${totalPrice} ‚ÇΩ`;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–ø—Ü–∏–π –∏ —Å–≤–æ–π—Å—Ç–≤
    function updateOptionsVisibility() {
      // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∏–ø –±–ª—é–¥–∞
      let selectedType;
      for (const radio of dishTypeRadios) {
        if (radio.checked) {
          selectedType = radio.value;
          break;
        }
      }

      // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –æ–ø—Ü–∏–∏ –∏ —Å–≤–æ–π—Å—Ç–≤–∞
      optionsGroup.style.display = 'none';
      propertyGroup.style.display = 'none';

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ü–∏–∏ –∏ —Å–≤–æ–π—Å—Ç–≤–∞
      if (selectedType === 'macaroni') {
        optionsGroup.style.display = 'block';
      } else if (selectedType === 'puree') {
        propertyGroup.style.display = 'block';
      }
    }

    // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    quantityInput.addEventListener('input', calculatePrice);
    
    for (const radio of dishTypeRadios) {
      radio.addEventListener('change', function() {
        updateOptionsVisibility();
        calculatePrice();
      });
    }
    
    optionsSelect.addEventListener('change', calculatePrice);
    propertyCheckbox.addEventListener('change', calculatePrice);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    updateOptionsVisibility();
    calculatePrice();
  </script>
</body>
</html>