<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Калькулятор стоимости заказа</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Калькулятор стоимости заказа</h1>

  <div class="calculator">
    <div class="form-group">
      <label for="quantity">Количество:</label>
      <input type="number" id="quantity" min="1" value="1">
    </div>

    <div class="form-group">
      <label>Тип блюда:</label>
      <div class="radio-group">
        <div class="radio-option">
          <input type="radio" id="type1" name="dishType" value="pelmeni" checked>
          <label for="type1">Пельмени</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="type2" name="dishType" value="macaroni">
          <label for="type2">Макароны</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="type3" name="dishType" value="puree">
          <label for="type3">Пюре</label>
        </div>
      </div>
    </div>

    <div class="form-group" id="options-group" style="display: none;">
      <label for="options">Опции:</label>
      <select id="options">
        <option value="meat">С мясом</option>
        <option value="cutlet">С котлеткой</option>
      </select>
    </div>

    <div class="form-group" id="property-group" style="display: none;">
      <div class="checkbox-option">
        <input type="checkbox" id="property">
        <label for="property">С грибами</label>
      </div>
    </div>

    <div class="price-display" id="price-result">
      Общая стоимость: 200 руб.
    </div>
  </div>

  <script>
    // Базовая цена для каждого типа блюда
    const basePrices = {
      pelmeni: 200,
      macaroni: 300,
      puree: 250
    };

    // Дополнительные цены для опций
    const optionPrices = {
      meat: 50,
      cutlet: 25
    };

    // Дополнительная цена для свойства
    const propertyPrice = 100;

    // Получаем элементы DOM
    const quantityInput = document.getElementById('quantity');
    const dishTypeRadios = document.querySelectorAll('input[name="dishType"]');
    const optionsGroup = document.getElementById('options-group');
    const optionsSelect = document.getElementById('options');
    const propertyGroup = document.getElementById('property-group');
    const propertyCheckbox = document.getElementById('property');
    const priceResult = document.getElementById('price-result');

    // Функция для расчета стоимости
    function calculatePrice() {
      // Получаем выбранный тип блюда
      let selectedType;
      for (const radio of dishTypeRadios) {
        if (radio.checked) {
          selectedType = radio.value;
          break;
        }
      }

      // Получаем количество
      const quantity = parseInt(quantityInput.value) || 1;

      // Начинаем с базовой цены
      let price = basePrices[selectedType];

      // Добавляем стоимость опции, если она выбрана
      if (selectedType === 'macaroni' && optionsGroup.style.display !== 'none') {
        const selectedOption = optionsSelect.value;
        price += optionPrices[selectedOption];
      }

      // Добавляем стоимость свойства, если оно выбрано
      if (selectedType === 'puree' && propertyGroup.style.display !== 'none' && propertyCheckbox.checked) {
        price += propertyPrice;
      }

      // Рассчитываем общую стоимость
      const totalPrice = price * quantity;

      // Обновляем отображение цены
      priceResult.textContent = `Общая стоимость: ${totalPrice} руб.`;
    }

    // Функция для обновления видимости опций и свойств
    function updateOptionsVisibility() {
      // Получаем выбранный тип блюда
      let selectedType;
      for (const radio of dishTypeRadios) {
        if (radio.checked) {
          selectedType = radio.value;
          break;
        }
      }

      // Скрываем все опции и свойства
      optionsGroup.style.display = 'none';
      propertyGroup.style.display = 'none';

      // Показываем соответствующие опции и свойства
      if (selectedType === 'macaroni') {
        optionsGroup.style.display = 'block';
      } else if (selectedType === 'puree') {
        propertyGroup.style.display = 'block';
      }
    }

    // Назначаем обработчики событий
    quantityInput.addEventListener('input', calculatePrice);
    
    for (const radio of dishTypeRadios) {
      radio.addEventListener('change', function() {
        updateOptionsVisibility();
        calculatePrice();
      });
    }
    
    optionsSelect.addEventListener('change', calculatePrice);
    propertyCheckbox.addEventListener('change', calculatePrice);

    // Инициализация при загрузке
    updateOptionsVisibility();
    calculatePrice();
  </script>
</body>
</html>
